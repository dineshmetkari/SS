version: '2.0'

db:
  redis:
    image: redis:latest
    restart: always
    hostname: localhost
    ports:
      - 6379:6379
    volumes:
      - $HOME/redis/data:/data

  neo4j:
    image: neo4j:latest
    restart: always
    hostname: localhost
    ports:
      - 7474:7474
      - 7373:7373
      - 7687:7687
    volumes:
      - $HOME/neo4j/data:/data

  mongo:
    image: mongo:latest
    restart: always
    hostname: localhost
    ports:
      - 27017:27017
    volumes:
      - $HOME/mongo/data:/data/db

  rabbitmq:
    image: rabbitmq:3-management
    restart: always
    hostname: localhost
    ports:
      - 15672:15672
      - 5672:5672
      - 5671:5671
      - 4369:4369

  sql:
    image: mysql
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: honey678
      MYSQL_DATABASE: UserDB
    volumes:
      - $HOME/sql/data:/var/lib/mysql
    ports:
      - 3306:3306

services:
  config-server:
    restart: always
    image: semanticsearch/minerva.config-server:1.0.0
    hostname: localhost
    ports:
      - 8888:8888

  eureka-server:
    restart: always
    image: semanticsearch/minerva.eureka-server:1.0.0
    hostname: localhost
    ports:
      - 8070:8070

  api-gateway:
    restart: always
    image: semanticsearch/minerva.api-gateway:1.0.0
    hostname: localhost
    ports:
      - 8000:8000

  rabbitmq-service:
    restart: always
    image: semanticsearch/minerva.rabbitmq:1.0.0
    hostname: localhost
    ports:
      - 8095:8095

  neo4j-manager:
    restart: always
    image: semanticsearch/minerva.neo4j-manger:1.0.0
    hostname: localhost
    ports:
      - 8096:8096

  search-service:
    restart: always
    image: semanticsearch/minerva.search-service:1.0.0
    hostname: localhost
    ports:
      - 8999:8999

  authentication-service:
    restart: always
    image: semanticsearch/minerva.authentication-service:1.0.0
    hostname: localhost
    ports:
      - 8090:8093

  image-crawler-service:
    restart: always
    image: semanticsearch/minerva.image-crawler:1.0.0
    hostname: localhost
    ports:
      - 6090:8090

  video-crawler-service:
    restart: always
    image: semanticsearch/minerva.video-crawler:1.0.0
    hostname: localhost
    ports:
      - 8083:8083

  code-crawler-service:
    restart: always
    image: semanticsearch/minerva.code-crawler:1.0.0
    hostname: localhost
    ports:
      - 8080:8080

  content-crawler-service:
    restart: always
    image: semanticsearch/minerva.content-crawler:1.0.0
    hostname: localhost
    ports:
      - 6087:8081

  orchestra-service:
    restart: always
    image: semanticsearch/minerva.orchestration:1.0.0
    hostname: localhost
    ports:
      - 8890:8890

  confidence-score-service:
    restart: always
    image: semanticsearch/minerva.confidence-score-service:1.0.0
    hostname: localhost
    ports:
      - 8084:8084

  indexer-service:
    restart: always
    image: semanticsearch/minerva.indexer-service:1.0.0
    hostname: localhost
    ports:
      - 8051:8051

  angular-search-interface:
    restart: always
    image: semanticsearch/minerva.angular-search-interface:1.0.0
    hostname: localhost
    ports:
      - 4200:4200

  dialog-manger:
    restart: always
    image: semanticsearch/minerva.dialog-manager:1.0.0
    hostname: localhost
    ports:
      - 8081:8081

  lemmatization-service:
    restart: always
    image: semanticsearch/minerva.lemmatization-service:1.0.0
    hostname: localhost
    ports:
      - 9000:9000

  pos-tagging-service:
    restart: always
    image: semanticsearch/minerva.pos-tagging:1.0.0
    hostname: localhost
    ports:
      - 8087:8087

  nlp-service:
    restart: always
    image: semanticsearch/minerva.nlp-service:1.0.0
    hostname: localhost
    ports:
      - 9001:9001

  user-search-service:
    restart: always
    image: semanticsearch/minerva.user-search:1.0.0
    hostname: localhost
    ports:
      - 8091:8091

  recommendation-service:
    restart: always
    image: semanticsearch/minerva.recommendations:1.0.0
    hostname: localhost
    ports:
      - 8092:8092

